(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[84495],{536030:(e,t,r)=>{"use strict";r.d(t,{Gr:()=>b,wq:()=>h,R8:()=>O,d$:()=>E});var n=r(944908),o=r.n(n),i=r(414293),a=r.n(i),l=r(65792),u=r.n(l),c=r(129389);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var b=function(){return r.e(68809).then(r.bind(r,368809)).then((function(e){return e}))},v=function(e){var t=e.ramp,r=e.intervals,n=e.reverse,o=(0,c.G)(t),i=u().scale(o).colors(r);return n?d(i).reverse():i},g={quantile:function(e,t,r){var n=e.quantileSorted,o=t.map((function(e){var t;return null==e||null===(t=e.properties)||void 0===t?void 0:t[r.attribute]})).filter((function(e){return!a()(e)})).sort((function(e,t){return e-t}));if(0===o.length)return[];var i=r.intervals,l=[].concat(d(d(new Array(i).keys()).map((function(e){return e/i}))),[1]).map((function(e){return n(o,e)})),u=v(p(p({},r),{},{intervals:i}));return l.reduce((function(e,t,r){var n=l[r+1];if(void 0!==n){var o=u[r];return[].concat(d(e),[{color:o,min:t,max:n}])}return e}),[])},jenks:function(e,t,r){var n=e.jenks,o=t.map((function(e){var t;return null==e||null===(t=e.properties)||void 0===t?void 0:t[r.attribute]})).filter((function(e){return!a()(e)})).sort((function(e,t){return e-t})),i=r.intervals,l=i>o.length?o.length:i,u=n(o,l),c=v(p(p({},r),{},{intervals:l}));return u.reduce((function(e,t,r){var n=u[r+1];if(void 0!==n){var o=c[r];return[].concat(d(e),[{color:o,min:t,max:n}])}return e}),[])},equalInterval:function(e,t,r){var n=(0,e.equalIntervalBreaks)(t.map((function(e){var t;return null==e||null===(t=e.properties)||void 0===t?void 0:t[r.attribute]})).filter((function(e){return!a()(e)})).sort((function(e,t){return e-t})),r.intervals),o=v(r);return n.reduce((function(e,t,r){var i=n[r+1];if(void 0!==i){var a=o[r];return[].concat(d(e),[{color:a,min:t,max:i}])}return e}),[])},uniqueInterval:function(e,t,r){var n=o()(t.map((function(e){var t;return null==e||null===(t=e.properties)||void 0===t?void 0:t[r.attribute]}))),i=!1===r.sort?n:n.sort((function(e,t){return e>t?1:-1})),a=v(p(p({},r),{},{intervals:i.length}));return i.map((function(e,t){return{color:a[t],unique:e}}))}},h=function(e){return function(t,r){var n="FeatureCollection"===t.type?t.features:[];return g[r.method](e,n,r)}},O=function(e,t){return b().then((function(r){return h(r)(e,t)})).then((function(e){return{data:{classification:e}}}))},E=Object.keys(g)},779195:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(558422),o=r.n(n),i=(r(707169),r(967134)),a=r(74998),l=r.n(a),u=r(192579),c=["wrapperClassName","toolbarOptions"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(null,arguments)}const f=function(e){var t=e.wrapperClassName,r=void 0===t?"ms-compact-text-editor":t,n=e.toolbarOptions,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return o().createElement(i.Editor,s({},a,{editorStyle:{minHeight:200},wrapperClassName:r,toolbar:{options:n||["fontFamily","blockType","inline","textAlign","list","link","colorPicker","remove","image","embedded"],image:{urlEnabled:!0,uploadEnabled:a.uploadEnabled||!1,alignmentEnabled:!1,uploadCallback:function(e){return new Promise((function(t,r){var n=new FileReader;n.addEventListener("load",(function(){var e,r;(e=n.result,r={size:500,type:"image/jpeg",quality:.8},new Promise((function(t,n){var o=r||{},i=o.size,a=o.type,l=void 0===a?"image/png":a,u=o.quality,c=void 0===u?.9:u,s=new Image;s.crossOrigin="anonymous",s.onload=function(){var e=s.naturalWidth,r=s.naturalHeight,n=i,o=i/(e/r),a=document.createElement("canvas");a.setAttribute("width",n),a.setAttribute("height",o),a.getContext("2d").drawImage(s,0,0,n,o);var u=a.toDataURL(l,c);t(u)},s.onerror=function(e){n(e)},s.src=e}))).then((function(e){t({data:{link:e}})}))})),e?n.readAsDataURL(e):r()}))},previewImage:!0,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",alt:a.alt||{present:!1,mandatory:!1},defaultSize:{height:"auto",width:"100%"}},fontFamily:{options:a.fonts||u.Km},link:{inDropdown:!1,showOpenOptionOnHover:!0,defaultTargetOption:"_self",options:["link","unlink"]},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote","Code"]},inline:{inDropdown:!0,options:["bold","italic","underline","strikethrough","monospace"]},textAlign:{inDropdown:!0},list:{inDropdown:!0},embedded:{embedCallback:function(e){var t=/<iframe.*? src="(.*?)"/.exec(l()(e));return t&&t[1]||e},defaultSize:{height:"auto",width:"100%"}}}}))}},501262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(727418),o=r.n(n),i=r(45697),a=r.n(i),l=r(558422),u=r.n(l),c=r(180307),s=r.n(c),f=r(271418),p=r(624847),m=r(805346),d=r(807472);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function O(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var w=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return O(e=function(e,t,r){return t=g(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"setConfirmRef",(function(t){return e.confirm=t,e.confirm})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this.props.focusConfirm&&s().findDOMNode(this.confirm).focus()}},{key:"render",value:function(){return u().createElement(d.Z,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},u().createElement("span",{role:"header"},u().createElement("span",{className:"user-panel-title"},this.props.title),u().createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?u().createElement(f.gG,{glyph:this.props.closeGlyph}):u().createElement("span",null,"Ã—"))),u().createElement("div",{role:"body"},this.props.children),u().createElement("div",{role:"footer"},u().createElement(f.hE,null,u().createElement(p.Z,{ref:this.setConfirmRef,onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),u().createElement(p.Z,{onClick:this.props.onClose},this.props.closeText))))}}])&&b(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(u().Component);O(w,"propTypes",{show:a().bool,draggable:a().bool,onClose:a().func,onConfirm:a().func,onSave:a().func,modal:a().bool,closeGlyph:a().string,style:a().object,buttonSize:a().string,inputStyle:a().object,title:a().node,confirmButtonContent:a().node,confirmButtonDisabled:a().bool,closeText:a().node,confirmButtonBSStyle:a().string,focusConfirm:a().bool}),O(w,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:u().createElement(m.Z,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:u().createElement(m.Z,{msgId:"confirm"})||"Confirm",closeText:u().createElement(m.Z,{msgId:"close"}),includeCloseButton:!0,focusConfirm:!1});const S=w},59343:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(558422),o=r.n(n),i=r(732833),a=r(965539),l=r(867076),u=r(271418),c=r(624847),s={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};const f=function(e){var t=e.position,r=void 0===t?"right":t,n=e.onClose,i=e.bsStyle,a=void 0===i?"default":i,l=e.title,f=void 0===l?"":l,p=e.fullscreen,m=void 0!==p&&p,d=e.showFullscreen,y=void 0!==d&&d,b=e.glyph,v=void 0===b?"info-sign":b,g=e.additionalRows,h=e.onFullscreen,O=void 0===h?function(){}:h,E=n?o().createElement(c.Z,{key:"ms-header-close",className:"square-button ms-close",onClick:n,bsStyle:a},o().createElement(u.gG,{glyph:"1-close"})):null,w=y?o().createElement(c.Z,{key:"ms-header-glyph",className:"square-button",bsStyle:a,onClick:function(){return O(!m)}},o().createElement(u.gG,{glyph:s[r]&&s[r][m]||"resize-full"})):o().createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+a),style:{display:"flex"}},o().createElement(u.gG,{glyph:v,className:"".concat("default"===a?"text-primary":"")})),S="left"===r?[E,w]:[w,E];return o().createElement(u.rj,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+a},o().createElement(u.X2,null,o().createElement(u.JX,{xs:2},S[0]),o().createElement(u.JX,{xs:8},o().createElement("h4",null,f)),o().createElement(u.JX,{xs:2},S[1])),g)},p=(0,l.withState)("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,r=e.className,n=void 0===r?"":r,l=e.fullscreen,u=void 0!==l&&l,c=e.position,s=e.open,p=e.size,m=void 0===p?550:p,d=e.style,y=void 0===d?{}:d,b=e.zIndex,v=void 0===b?1030:b,g=e.onClose,h=e.bsStyle,O=e.title,E=e.showFullscreen,w=void 0!==E&&E,S=e.glyph,P=e.header,j=e.footer,C=e.children,I=e.onFullscreen,T=void 0===I?function(){}:I,A=e.fixed,k=void 0!==A&&A,N=e.resizable,F=void 0!==N&&N,x=e.hideHeader;return o().createElement("div",{className:"ms-side-panel "+(k?"":"ms-absolute-dock ")+(F?"":"react-dock-no-resize ")+n},o().createElement(i.Z,{fluid:t||u,position:c,dimMode:"none",isVisible:s,size:u?1:m,dockStyle:y,zIndex:v},o().createElement(a.Z,{header:!x&&s&&o().createElement(f,{position:c,onClose:g,bsStyle:h,title:O,fullscreen:u,showFullscreen:w,glyph:S,additionalRows:P,onFullscreen:T}),footer:s&&j},s&&C)))}))},632107:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(558422),o=r.n(n),i=r(867076),a=r(965539),l=r(59343),u=r(694745),c=["children","header"],s=(0,i.renameProps)({open:"show"})((function(e){var t=e.children,r=e.header,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return o().createElement(u.Z,n,o().createElement(a.Z,{header:o().createElement("div",{className:"ms-header"},r)},t))}));const f=(0,i.branch)((function(e){return!e.dock}),(function(){return function(e){return o().createElement(s,e)}}))(l.Z)},312122:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(558422),o=r.n(n),i=r(501262),a=r(399534),l=r(805346),u=r(867076),c=["confirming","confirmYes","confirmNo","confirmTitle","confirmContent","confirmModal","draggable","onConfirm","setConfirming"];function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=(0,u.compose)((0,u.withProps)((function(e){var t=e.setConfirming;return{onClose:function(e){null!=e&&e.stopPropagation&&e.stopPropagation(),t(!1)}}})))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.confirmYes,r=void 0===t?o().createElement(l.Z,{msgId:"yes"}):t,n=e.confirmNo,u=void 0===n?o().createElement(l.Z,{msgId:"no"}):n,c=e.confirmTitle,s=void 0===c?o().createElement(l.Z,{msgId:"confirm"}):c,f=e.confirmContent,p=e.confirmButtonBSStyle,m=void 0===p?"primary":p,d=e.show,y=void 0!==d&&d,b=e.confirmModal,v=void 0===b||b,g=e.draggable,h=void 0!==g&&g,O=e.onClose,E=void 0===O?function(){}:O,w=e.onConfirm,S=void 0===w?function(){}:w;return y?o().createElement(a.Z,null,o().createElement("div",{className:"with-confirm-modal"},o().createElement(i.Z,{draggable:h,show:y,modal:v,onClose:E,onConfirm:S,title:s,confirmButtonContent:r,closeText:u,confirmButtonBSStyle:m,closeGlyph:"1-close"},f))):null})),p=function(e){return function(t){var r=t.confirming,n=t.confirmYes,i=t.confirmNo,a=t.confirmTitle,l=t.confirmContent,u=t.confirmModal,s=t.draggable,p=t.onConfirm,m=t.setConfirming,d=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,c);return o().createElement(o().Fragment,null,o().createElement(f,{show:r,setConfirming:m,confirmYes:n,confirmNo:i,confirmTitle:a,confirmContent:l,confirmModal:u,draggable:s,onConfirm:p}),o().createElement(e,d))}};const m=function(e){return(0,u.compose)((0,u.withState)("confirming","setConfirming",!1),(0,u.withHandlers)({onClick:function(e){var t=e.setConfirming,r=void 0===t?function(){}:t,n=e.onClick,o=void 0===n?function(){}:n,i=e.confirmPredicate,a=void 0===i||i;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,l,u=(i=t||[],l=1,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(i,l)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(i,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];null!=u&&u.stopPropagation&&u.stopPropagation(),a?r(!0):o.apply(void 0,t)}},onConfirm:function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.setConfirming,o=void 0===n?function(){}:n;return function(){o(!1),r.apply(void 0,arguments)}}}),p)(e)}},886850:(e,t,r)=>{"use strict";r.d(t,{V6:()=>R,Mc:()=>U,v$:()=>z,ED:()=>q});var n=r(472500),o=r.n(n),i=r(701469),a=r.n(i),l=r(984596),u=r.n(l),c=r(414293),s=r.n(c),f=r(513218),p=r.n(f),m=r(49977),d=r.n(m),y=r(505055),b=r(507526),v=r(375875),g=r(428913),h=r(624262),O=r(510284),E=r(439156),w=r.n(E),S=r(611847),P=["totalFeatures","features"],j=["sortOptions","propertyName"];function C(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function A(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return(t=function(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=w()({wfsVersion:"1.1.0"}),D=x.getFeature,L=x.query,Z=x.sortBy,M=x.propertyName,_=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",i=(0,g.getWFSFilterData)(t,r),a=o().parse((0,S.eW)(e),!0),l=p()(a.query)?a.query:{};l.service="WFS",l.outputFormat=n;var u=o().format({protocol:a.protocol,host:a.host,pathname:a.pathname,query:l});return r.layer&&"vector"===r.layer.type?d().Observable.defer((function(){return new Promise((function(e){var n,o=function(e,t){if(t.filterFields&&0!==t.filterFields.length){var r=e.features.filter((0,g.createFeatureFilter)(t));e.features=r,e.numberMatched=r.length,e.numberReturned=r.length,e.totalFeatures=r.length}return t.sortOptions&&t.sortOptions.sortBy&&t.sortOptions.sortOrder&&"NONE"!==t.sortOptions.sortOrder&&e.features.sort((function(e,r){var n=e.properties[t.sortOptions.sortBy],o=r.properties[t.sortOptions.sortBy],i=n.toLowerCase().localeCompare(o.toLowerCase());return"ASC"===t.sortOptions.sortOrder?i:-1*i})),e}({crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::4326"}},numberMatched:(n=r.layer.features).length,numberReturned:n.length,timeStamp:"2020-07-20T11:36:20.118Z",totalFeatures:n.length,type:"FeatureCollection",features:n},t);e(o)}))})):{data:i,queryString:u}},R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(r.layer&&"vector"===r.layer.type)return _(e,t,r,n);var o=_(e,t,r,n),i=o.data,a=o.queryString;return d().Observable.defer((function(){return v.Z.post(a,i,{timeout:6e4,responseType:"arraybuffer",headers:{Accept:"application/xml","Content-Type":"application/xml"}})}))},B=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.layer&&"vector"===r.layer.type)return _(e,t,r);var n=_(e,t,r),o=n.data,i=n.queryString;return d().Observable.defer((function(){return v.Z.post(i,o,N({timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/xml"}},null==r?void 0:r.requestOptions))})).let(O.oB).map((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.totalFeatures,r=e.features,n=A(e,P),o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).startIndex,i=arguments.length>2?arguments[2]:void 0;return i>t&&i===o+r.length&&t===r.length?N(N({},n),{},{features:r,totalFeatures:i}):N(N({},n),{},{features:r,totalFeatures:t})}(e.data,function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pagination||!s()(e.startIndex)&&!s()(e.maxFeatures)&&{startIndex:e.startIndex,maxFeatures:e.maxFeatures}}(t,r),r.totalFeatures)}))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search,r=void 0===t?{}:t,n=e.url,o=e.name,i=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=l.sortOptions,s=l.propertyName,f=A(l,j);return B(r.url||n,i&&"object"===T(i)?N(N({},i),{},{typeName:o||i.typeName}):D(L(o,[].concat(C(c?[Z(c.sortBy,c.sortOrder)]:[]),C(s?[M(s)]:[]),C(i?u()(i):[]))),f),f).catch((function(e){if("OGCError"===e.name&&"NoApplicableCode"===e.code&&!c&&s&&s[0])return B(r.url||n,i&&"object"===T(i)?N(N({},i),{},{typeName:o||i.typeName}):D(L(o,[Z(a()(s)?s[0]:s)].concat(C(s?[M(s)]:[]),C(i?u()(i):[]))),f),f);throw e}))},z=function(e){var t=e.layer;return d().Observable.defer((function(){return v.Z.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,i=e.url,a=e.describeFeatureTypeURL,l=o().parse((0,S.eW)(a||n.url||i),!0);return o().format(N(N({},l),{},{search:void 0,query:N(N({},l.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))}(t))})).let(O.oB)},q=function(e){var t=e.layer;return d().Observable.defer((function(){return v.Z.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,i=e.url,a=(0,h.Fh)({name:t,url:n&&n.url||i}),l=o().parse(a,!0);return o().format(N(N({},l),{},{search:void 0,query:N(N({},l.query),{},{service:"WFS",version:"1.1.1",request:"GetCapabilities"})}))}(t))})).let(O.oB).switchMap((function(e){return d().Observable.bindNodeCallback((function(e,t){return(0,y.parseString)(e,{tagNameProcessors:[b.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data)}))}},246996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Cn});var n=r(558422),o=r.n(n),i=r(45697),a=r.n(i),l=r(171703),u=r(867076),c=r(22222),s=r(782904),f=r(591884),p=r(580416),m=r(396909),d=r(487427),y=r(271418),b=r(632107),v=r(80717),g=r(815135),h=r(91175),O=r.n(h),E=r(513218),w=r.n(E),S=r(747037),P=r.n(S),j=r(805346);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(null,arguments)}function T(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var k=(0,g.Z)(y.LY),N=function(e){var t=e.className,r=void 0===t?"":t,n=e.activeTab,i=void 0===n?"general":n,a=e.currentLocale,l=void 0===a?"en-US":a,u=e.currentLocaleLanguage,c=void 0===u?"en":u,s=e.width,f=void 0===s?500:s,p=e.groups,m=void 0===p?[]:p,d=e.element,g=void 0===d?{}:d,h=e.settings,E=void 0===h?{}:h,S=e.onClose,A=void 0===S?function(){}:S,N=e.onHideSettings,F=void 0===N?function(){}:N,x=e.onSetTab,D=void 0===x?function(){}:x,L=e.onUpdateParams,Z=void 0===L?function(){}:L,M=e.onRetrieveLayerData,_=void 0===M?function(){}:M,R=e.realtimeUpdate,B=void 0===R||R,U=e.dockStyle,z=void 0===U?{}:U,q=e.dock,G=void 0===q||q,H=e.showFullscreen,W=e.draggable,J=e.position,$=void 0===J?"left":J,K=e.tabs,V=void 0===K?[]:K,Y=e.tabsConfig,X=void 0===Y?{}:Y,Q=e.isLocalizedLayerStylesEnabled,ee=void 0!==Q&&Q,te=O()(V.filter((function(e){return e.id===i&&e.toolbarComponent})).map((function(e){return e.toolbarComponent}))),re=V&&V.map((function(e){return e&&e.onClose})).filter((function(e){return e}))||[],ne=T(O()(V.filter((function(e){return e.id===i&&e.toolbar})).map((function(e){return e.toolbar})))||[]);return o().createElement("div",null,o().createElement(b.Z,{open:E.expanded,glyph:"wrench",title:g.title&&w()(g.title)&&(g.title[l]||g.title.default)||P()(g.title)&&g.title||"",className:r,onClose:function(){A?A(re):(re.forEach((function(e){e()})),F())},size:f,style:z,showFullscreen:H,dock:G,draggable:W,position:$,header:[o().createElement(y.X2,{key:"ms-toc-settings-toolbar",className:"text-center"},o().createElement(y.JX,{xs:12},te?o().createElement(te,{buttons:ne}):o().createElement(v.Z,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:ne})))].concat(T(V.length>1?[o().createElement(y.X2,{key:"ms-toc-settings-navbar",className:"ms-row-tab"},o().createElement(y.JX,{xs:12},o().createElement(y.JL,{bsStyle:"tabs",activeKey:i,justified:!0},V.map((function(e){return o().createElement(k,{key:"ms-tab-settings-"+e.id,tooltip:o().createElement(j.Z,{msgId:e.tooltipId}),eventKey:e.id,onClick:function(){D(e.id),e.onClick&&e.onClick()}},o().createElement(y.gG,{glyph:e.glyph}))})))))]:[]))},V.filter((function(e){return e.id&&e.id===i})).filter((function(e){return e.Component})).map((function(t){return o().createElement(t.Component,I({},e,X[t.id],{key:"ms-tab-settings-body-"+t.id,containerWidth:f,element:g,groups:m,nodeType:E.nodeType,settings:E,retrieveLayerData:_,onChange:function(e,t){return w()(e)?Z(e,B):Z(function(e,t,r){return(t=function(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,t),B)},isLocalizedLayerStylesEnabled:ee,currentLocaleLanguage:c}))}))))};N.contextTypes={plugins:a().object,pluginsConfig:a().array,loadedPlugins:a().object};const F=N;var x=r(607147),D=r(675110),L=r(308316),Z=r(38842),M=r(55105),_=r(274621),R=r(624262),B=r(322843),U=r(763105),z=r.n(U),q=r(189734),G=r.n(q),H=r(93152),W=r(900012),J=r(925922),$=r(958375),K=r(185552),V=r.n(K),Y=r(537505);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function re(e,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},re(e,t)}function ne(e){var t=function(e){if("object"!=X(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==X(t)?t:t+""}var oe,ie,ae,le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=te(t),function(e,t){if(t&&("object"==X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ee()?Reflect.construct(t,r||[],te(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){if(this.props.active){var e=this.props.payload;return o().createElement("div",{className:"custom-tooltip"},o().createElement("p",{className:"label"},Math.abs(e[0].value)))}return null}}])&&Q(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(o().Component);oe=le,ie="propTypes",ae={type:a().string,payload:a().array,label:a().string,active:a().bool},(ie=ne(ie))in oe?Object.defineProperty(oe,ie,{value:ae,enumerable:!0,configurable:!0,writable:!0}):oe[ie]=ae;const ue=le;function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ye(n.key),n)}}function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fe=function(){return!!e})()}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}function de(e,t,r){return(t=ye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e){var t=function(e){if("object"!=ce(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ce(t)?t:t+""}var be=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return de(e=function(e,t,r){return t=pe(t),function(e,t){if(t&&("object"==ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fe()?Reflect.construct(t,r||[],pe(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"renderLineChart",(function(){return o().createElement(Y.wW,{margin:e.props.chartStyle.margin,width:e.props.chartStyle.width,height:e.props.chartStyle.height,data:e.formatData(e.props.elevations.values)},o().createElement(Y.Kc,{hide:!0,dataKey:"name"}),o().createElement(Y.B2,{hide:!0}),o().createElement(Y.u,{content:o().createElement(ue,null)}),o().createElement(Y.q3,{strokeDasharray:"3 3",horizontal:!1}),o().createElement(Y.x1,{isAnimationActive:e.props.animated,type:"monotone",dataKey:"value",stroke:"#82ca9d",activeDot:{r:8}}))})),de(e,"formatData",(function(t){var r=[];return t.map((function(e){r.push({name:this.props.elevations.name,value:parseFloat(this.props.elevations.positive?e:-e)})}),e),r})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}(t,e),function(e,t){return t&&se(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return o().createElement("div",null,this.renderLineChart())}}])}(o().Component);de(be,"propTypes",{elevations:a().object,chartStyle:a().object,animated:a().bool}),de(be,"defaultProps",{elevations:{},chartStyle:{margin:{top:5,right:5,left:5,bottom:45},width:600,height:200},animated:!1});var ve=r(893379),ge=r.n(ve),he=r(79909);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function Pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pe=function(){return!!e})()}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ce(e,t)}function Ie(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=function(e){if("object"!=Oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oe(t)?t:t+""}ge()(he.Z,{insert:"head",singleton:!1}),he.Z.locals;var Ae=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ie(e=function(e,t,r){return t=je(t),function(e,t){if(t&&("object"==Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pe()?Reflect.construct(t,r||[],je(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"renderElevationsChart",(function(t){return e.props.showElevationChart?o().createElement(be,{elevations:t,chartStyle:we({height:200,width:e.props.containerWidth-30},e.props.chartStyle)}):null})),Ie(e,"renderElevationsSlider",(function(t){var r=t.values,n=r.length-1,i=n-0,a=parseFloat(r[0]),l=parseFloat(r[r.length-1]),u=e.props.element&&e.props.element.params&&e.props.element.params[t.name]||r[0];return o().createElement("div",{id:"mapstore-elevation"},o().createElement(V(),{snap:!0,start:[parseFloat(u)]||0,range:e.calculateRange(r,0,n,i,a,l),behaviour:"tap",pips:{mode:"range",stepped:!0,density:10,format:{to:function(e){return parseFloat(e).toFixed(1)}}},tooltips:!e.props.showElevationChart,onChange:function(r){e.props.onChange("params",Object.assign({},Ie({},t.name,r[0])))}}))})),Ie(e,"calculateRange",(function(e,t,r,n,o,i){var a=[],l="",u={min:o,max:i};return e.forEach((function(e,r){a[r]=(r-t)/n*100,l=a[r]+"%",u[l]=parseFloat(e)})),u})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(t,e),function(e,t){return t&&Se(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.element.id!==e.element.id}},{key:"render",value:function(){var e=this.props.getDimension(this.props.element.dimensions,"elevation");return o().createElement(y.rj,{fluid:!0,style:{paddingTop:15,paddingBottom:15}},o().createElement("label",{id:"mapstore-elevation-label",key:"elevation-label",className:"control-label",style:this.props.showElevationChart?{marginBottom:"10px"}:{marginBottom:"90px"}},this.props.elevationText,": (",e.units,")"),this.renderElevationsChart(e),o().createElement("div",null,o().createElement("div",{key:"elevation"},this.renderElevationsSlider(e))))}}])}(o().Component);Ie(Ae,"propTypes",{elevationText:a().node,element:a().object,getDimension:a().func,onChange:a().func,chartStyle:a().object,showElevationChart:a().bool,containerWidth:a().number}),Ie(Ae,"defaultProps",{onChange:function(){},showElevationChart:!0,containerWidth:500,elevationText:o().createElement(j.Z,{msgId:"elevation"}),getDimension:R.Fr});var ke=r(82110),Ne=r(975480),Fe=r(307152),xe=r(965539),De=r(312122),Le=r(17257),Ze=r(993451),Me=(0,Ze.Z)("tooltip")((0,Le.Z)((0,De.Z)(y.zx))),_e=function(e){var t=e.fields,r=void 0===t?[]:t,n=e.onLoadFields,i=void 0===n?function(){}:n,a=e.onChange,l=void 0===a?function(){}:a,u=e.onClear,c=void 0===u?function(){}:u,s=e.loading,f=e.error,p=e.currentLocale;return o().createElement(xe.Z,{className:"layer-fields",header:o().createElement("div",{key:"row-header",className:"layer-fields-header"},o().createElement("div",{key:"row-toolbar",className:"layer-fields-toolbar"},o().createElement(v.Z,{key:"toolbar",btnDefaultProps:{className:"square-button-md",bsStyle:"primary",disabled:s},buttons:[{glyph:"refresh",disabled:s,tooltipId:"layerProperties.fields.refresh",onClick:i},{tooltipId:"layerProperties.fields.clearCustomization",Element:function(){return o().createElement(Me,{tooltip:"layerProperties.fields.clearCustomization",disabled:s,bsStyle:"primary",confirmContent:o().createElement(j.Z,{msgId:"layerProperties.fields.clearCustomizationConfirm"}),className:"square-button-md",onClick:function(){return c()}},o().createElement(y.gG,{glyph:"clear-brush"}))}}]})),o().createElement("div",{key:"row-labels",className:"layer-fields-row-header"},o().createElement(y.cw,{className:"layer-field-name"},o().createElement(y.J$,null,o().createElement(j.Z,{msgId:"layerProperties.fields.name"}))),o().createElement(y.cw,{className:"layer-field-alias"},o().createElement(y.J$,null,o().createElement(j.Z,{msgId:"layerProperties.fields.alias"}))),o().createElement(y.cw,{className:"layer-field-type"},o().createElement(y.J$,null,o().createElement(j.Z,{msgId:"layerProperties.fields.type"}))))),footer:o().createElement("div",{key:"row-footer",className:"layer-fields-footer"},s&&o().createElement("div",{className:"layer-field-loading"},o().createElement(Ne.Z,{key:"loading",loadingError:f,loading:s}),o().createElement(j.Z,{msgId:"loading"})),f&&o().createElement(y.bZ,{bsStyle:"danger",className:"layer-fields-error"},o().createElement(j.Z,{msgId:"layerProperties.fields.error"})))},r.filter((function(e){return t=e.type,!["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Geometry"].includes(t);var t})).map((function(e){var t=e.name,r=e.alias,n=e.type;return o().createElement("div",{key:"field-".concat(t),className:"layer-fields-row"},o().createElement(y.cw,{className:"layer-field-name"},o().createElement(y.NI,{disabled:!0,value:t})),o().createElement(y.cw,{className:"layer-field-alias"},o().createElement(Fe.Z,{disabled:s,onChange:function(e){return l(t,"alias",e)},value:r,currentLocale:p})),o().createElement(y.cw,{className:"layer-field-type"},o().createElement(y.NI,{disabled:!0,value:n})))})))};_e.propTypes={fields:a().array,onLoadFields:a().func,onChange:a().func,onClear:a().func,loading:a().bool,error:a().bool};const Re=_e;var Be=r(886850),Ue=["layer","updateFields"];function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qe.apply(null,arguments)}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return He(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?He(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){$e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t,r){return(t=function(e){var t=function(e){if("object"!=ze(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ze(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.search;return"wfs"===t||"wms"===t&&"wfs"===(void 0===r?{}:r).type},Ve=function(e){var t,r=e.layer,i=e.updateFields,a=void 0===i?function(){}:i,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ue),u=Ge((0,n.useState)(null!==(t=r.fields)&&void 0!==t?t:[]),2),c=u[0],s=u[1],f=Ge((0,n.useState)(!1),2),p=f[0],m=f[1],d=Ge((0,n.useState)(),2),y=d[0],b=d[1],v=(0,n.useRef)(!1);(0,n.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]);var g=function(e){b(),m(!0),function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.fields,n=void 0===r?[]:r,o=e.type,i=e.search,a=void 0===i?{}:i,l=a.typeName;return"wfs"===o||"wms"===o&&"wfs"===a.type?(0,Be.v$)({layer:e}).toPromise().then((function(e){var r;return(null!==(r=null==e?void 0:e.data)&&void 0!==r?r:{}).featureTypes.find((function(e){return e.name===l})).properties.map((function(e){var r=e.name,o=e.localType;return Je(Je({},t&&n.find((function(e){return e.name===r}))||{}),{},{name:r,type:o})}))})):Promise.resolve([])}(r,e).then((function(e){v.current&&(m(!1),s(e))})).catch((function(e){v.current&&(m(!1),b(e))}))};return(0,n.useEffect)((function(){0===c.length&&g()}),[]),(0,n.useEffect)((function(){c.length>0&&a(c)}),[c]),o().createElement(Re,qe({},l,{fields:c,onChange:function(e,t,r){var n=c.map((function(n){return n.name===e?Je(Je({},n),{},$e({},t,r)):n}));s(n)},onLoadFields:g,onClear:function(){s([]),c.length>0&&setTimeout((function(){return g(!1)}),100)},loading:p,error:y}))};Ve.propTypes={layer:a().object,updateFields:a().func};const Ye=Ve;var Xe=["element","updateLayerProperties"];function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qe.apply(null,arguments)}const et=(0,l.connect)((0,c.zB)({currentLocale:L.Pz}),{updateLayerProperties:p.He})((function(e){var t=e.element,r=void 0===t?{}:t,n=e.updateLayerProperties,i=void 0===n?function(){}:n,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Xe),l=r;return o().createElement(Ye,Qe({},a,{layer:l,updateFields:function(e){i(l.id,{fields:e})}}))}));var tt=r(662485),rt=r.n(tt),nt=r(911935),ot=r.n(nt),it=r(633602),at=r.n(it),lt=r(615402),ut=r(876424);function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ct.apply(null,arguments)}const st=function(e){var t=e.activePanel,r=e.fillContainer,n=e.className,i=e.onSelect,a=e.panels,l=void 0===a?[]:a,u=r?"ms-fill-container ":"";return o().createElement(y.UQ,{activeKey:t,className:"ms-accordion "+u+n},l.map((function(e,r){return o().createElement(y.s_,{key:r,eventKey:e.id,className:t===e.id&&"HIDDEN"!==e.id?"ms-selected":"",header:e.head&&o().createElement("a",{role:"tab"},o().createElement(ut.Z,ct({},e.head,{selected:t===e.id,onClick:function(){i(e.id)}})))||null,collapsible:!0},e.body)})))};var ft=r(501157),pt=r(432420),mt=r(532425),dt=r(264721),yt=r.n(dt),bt=r(441609),vt=r.n(bt),gt=r(667348),ht=["JSON","GEOJSON"];function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||wt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){if(e){if("string"==typeof e)return St(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?St(e,t):void 0}}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){Nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ct.apply(null,arguments)}function It(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ft(n.key),n)}}function Tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tt=function(){return!!e})()}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}function Nt(e,t,r){return(t=Ft(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ft(e){var t=function(e){if("object"!=Ot(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ot(t)?t:t+""}var xt={wms:ft.T6,wfs:pt.T6},Dt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Nt(e=function(e,t,r){return t=At(t),function(e,t){if(t&&("object"==Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tt()?Reflect.construct(t,r||[],At(e).constructor):t.apply(e,r))}(this,t,[].concat(n)),"state",{loading:!1}),Nt(e,"getInfoViews",(function(t){return Object.keys(t).map((function(t){var r=e.props.formatCards[t]&&e.props.formatCards[t].body;return{id:t,head:{preview:o().createElement(y.gG,{glyph:e.props.formatCards[t]&&e.props.formatCards[t].glyph||"ext-empty"}),title:e.props.formatCards[t]&&e.props.formatCards[t].titleId&&o().createElement(j.Z,{msgId:e.props.formatCards[t].titleId})||"",description:e.props.formatCards[t]&&e.props.formatCards[t].descId&&o().createElement(j.Z,{msgId:e.props.formatCards[t].descId})||"",size:"sm"},body:r&&o().createElement(r,Ct({template:e.props.element.featureInfo&&e.props.element.featureInfo.template||""},e.props))||null}}))})),Nt(e,"transformInfoFormatsToViews",(function(e){var t=e.JSON,r=e.GEOJSON,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ht);return t?jt(jt({},n),{},Nt(Nt({},(0,gt.kR)(r||t),r||t),"TEMPLATE",r||t)):r?jt(jt({},n),{},Nt(Nt({},(0,gt.kR)(r),r),"TEMPLATE",r)):e})),Nt(e,"supportedInfoFormats",(function(){var t,r=(null===(t=e.props.element)||void 0===t?void 0:t.infoFormats)||[],n=r.length?["TEXT"]:["TEXT","HTML"],o=Object.fromEntries(Object.entries(e.props.defaultInfoFormat).filter((function(e){var t=Et(e,1)[0];return!n.includes(t)}))),i="wfs"===e.props.element.type?o:e.props.defaultInfoFormat,a=Object.assign.apply(Object,[{}].concat(function(e){return function(e){if(Array.isArray(e))return St(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object.entries(i).filter((function(e){var t=Et(e,2)[1];return yt()(r,t)})).map((function(e){var t=Et(e,2);return Nt({},t[0],t[1])})))));return vt()(a)?i:a})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(t,e),function(e,t){return t&&It(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){var e,t=this,r=xt[this.props.element.type];(r&&this.props.element.url&&!this.props.element.infoFormats||0===(null===(e=this.props.element.infoFormats)||void 0===e?void 0:e.length))&&(this.setState({loading:!0}),r(this.props.element.url,!0).then((function(e){var r=e.infoFormats;t.props.onChange("infoFormats",r),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})})))}},{key:"render",value:function(){var e=this,t=this.getInfoViews(this.transformInfoFormatsToViews(jt({HIDDEN:!0},this.supportedInfoFormats())));return this.state.loading?o().createElement("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},o().createElement(mt.Z,{size:150})):o().createElement("span",null,o().createElement(st,{fillContainer:!0,activePanel:this.props.element.featureInfo&&this.props.element.featureInfo.format,panels:t,onSelect:function(t){var r=e.props.element.featureInfo&&e.props.element.featureInfo.format&&t===e.props.element.featureInfo.format;e.props.onChange("featureInfo",jt(jt({},e.props.element&&e.props.element.featureInfo||{}),{},{format:r?"":t,viewer:e.props.element.featureInfo?e.props.element.featureInfo.viewer:void 0}))}}))}}])}(o().Component);Nt(Dt,"propTypes",{element:a().object,defaultInfoFormat:a().object,onChange:a().func,formatCards:a().object}),Nt(Dt,"defaultProps",{element:{},defaultInfoFormat:[],onChange:function(){},formatCards:{}});var Lt=r(739980),Zt=r(529),Mt=r(434116),_t=r(121222),Rt=r(180307),Bt=r(399534),Ut=r(694745),zt=r(779195),qt=r(697111),Gt=r(629859),Ht=r(86638);function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Wt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Yt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){if(e){if("string"==typeof e)return Xt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xt(e,t):void 0}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Qt=(0,qt.Z)("onEditorStateChange","editorState")(zt.Z),er=function(e,t){var r,i=e.element,a=e.showEditor,l=e.onShowEditor,u=e.onChange,c=e.enableIFrameModule,s=t.messages,f=Vt((0,n.useState)(0),2)[1];(0,n.useEffect)((function(){var e=document.querySelector(".rdw-image-wrapper"),t=function(){setTimeout((function(){f((function(e){return e+1}))}))};return e&&e.addEventListener("click",t),function(){e&&(null==e||e.removeEventListener("click",t))}}),[a]);var p=Vt((0,n.useState)((null==i||null===(r=i.featureInfo)||void 0===r?void 0:r.template)||""),2),m=p[0],d=p[1],y=Vt((0,n.useState)((0,Gt.n0)(m)),2),b=y[0],v=y[1],g=function(){l(!a),u("featureInfo",$t($t({},i&&i.featureInfo||{}),{},{template:(0,Gt.sc)(b)}))},h=document.querySelector(".rdw-image-modal-url-section");return o().createElement(Bt.Z,null,o().createElement(Ut.Z,{modalClassName:"ms-feature-info-editor",fade:!0,show:a,title:o().createElement(j.Z,{msgId:"layerProperties.editCustomFormat"}),size:"lg",showFullscreen:!0,clickOutEnabled:!1,onClose:g,buttons:[{bsStyle:"primary",text:o().createElement(j.Z,{msgId:"close"}),onClick:g}]},o().createElement("div",{id:"ms-template-editor",className:"ms-editor"},o().createElement("style",{dangerouslySetInnerHTML:{__html:".DraftEditor-editorContainer img::after {content: '"+(0,Ht.S$)(s,"layerProperties.imageNotFound")+"'}"}}),h?(0,Rt.createPortal)(o().createElement("div",{className:"guide-text"},o().createElement(j.Z,{msgId:"layerProperties.guideText"})),h):null,o().createElement(Qt,{toolbarOptions:["fontFamily","blockType","inline","textAlign","list","link","colorPicker","remove","image"].concat(c?["embedded"]:[]),editorState:b,onEditorStateChange:function(e){var t,r=(0,Gt.sc)(b),n=document.querySelectorAll(".DraftEditor-editorContainer img"),o=(0,Gt.sc)(e),i=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Yt(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(n);try{for(i.s();!(t=i.n()).done;)t.value.alt=" "}catch(e){i.e(e)}finally{i.f()}o!==r&&(d((0,Gt.sc)(e)),v(e))}}))))};er.propTypes={showEditor:a().bool,element:a().object,onChange:a().func,onShowEditor:a().func,enableIFrameModule:a().bool},er.contextTypes={messages:a().object},er.defaultProps={showEditor:!1,element:{},enableIFrameModule:!1,onChange:function(){},onShowEditor:function(){}};const tr=er;var rr=["template"];function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nr.apply(null,arguments)}var or={html:rt(),json:JSON.parse(ot()),text:at()},ir={HIDDEN:{titleId:"layerProperties.hideFormatTitle",descId:"layerProperties.hideFormatDescription",glyph:"hide-marker"},TEXT:{titleId:"layerProperties.textFormatTitle",descId:"layerProperties.textFormatDescription",glyph:"ext-txt",body:function(){return o().createElement("div",null,o().createElement("div",null,o().createElement(j.Z,{msgId:"layerProperties.exampleOfResponse"})),o().createElement("br",null),o().createElement(Zt.Z,{response:or.text}))}},HTML:{titleId:"layerProperties.htmlFormatTitle",descId:"layerProperties.htmlFormatDescription",glyph:"ext-html",body:function(){return o().createElement("div",null,o().createElement("div",null,o().createElement(j.Z,{msgId:"layerProperties.exampleOfResponse"})),o().createElement("br",null),o().createElement(Lt.Z,{response:or.html}))}},PROPERTIES:{titleId:"layerProperties.propertiesFormatTitle",descId:"layerProperties.propertiesFormatDescription",glyph:"ext-json",body:function(){return o().createElement("div",null,o().createElement("div",null,o().createElement(j.Z,{msgId:"layerProperties.exampleOfResponse"})),o().createElement("br",null),o().createElement(Mt.Z,{response:or.json}))}},TEMPLATE:{titleId:"layerProperties.templateFormatTitle",descId:"layerProperties.templateFormatDescription",glyph:"ext-empty",body:function(e){var t=e.template,r=void 0===t?"":t,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,rr);return o().createElement("div",{className:"template-html-renderer"},o().createElement("div",null,r&&"<p><br></p>"!==r?o().createElement(j.Z,{msgId:"layerProperties.templatePreview"}):null),o().createElement("br",null),o().createElement("div",null,r&&"<p><br></p>"!==r?o().createElement(_t.Z,{html:r}):o().createElement("span",null,o().createElement("p",null,o().createElement(j.Z,{msgId:"layerProperties.templateFormatInfoAlert2",msgParams:{attribute:"{ }"}})),o().createElement("pre",null,o().createElement(lt.Z,{msgId:"layerProperties.templateFormatInfoAlertExample"})),o().createElement("p",null,o().createElement("small",null,o().createElement(j.Z,{msgId:"layerProperties.templateFormatInfoAlert1"})),"Â (Â ",o().createElement(y.gG,{glyph:"pencil"}),"Â )")),o().createElement(tr,nr({template:r},n))))}}};const ar=(0,u.defaultProps)({formatCards:ir,defaultInfoFormat:(0,gt.eq)()})(Dt);var lr=r(944908),ur=r.n(lr),cr=r(931088),sr=r(467057),fr=r(888894),pr=r(99009),mr=r(166287),dr=r(658918),yr=r(108954),br=r(378795),vr=r(536030);function gr(e){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Or(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Or(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){Sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sr(e,t,r){return(t=function(e){var t=function(e){if("object"!=gr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pr=br.Z.getColors,jr={visual:fr.Z,textarea:sr.Z},Cr={"3dtiles":function(e){return(0,dr.F)(e.url)},vector:function(e){var t=e.features,r=void 0===t?[]:t,n=(0,mr.flattenFeatures)(r),o=n.reduce((function(e,t){return wr(wr({},e),null==t?void 0:t.properties)}),{}),i=ur()(n.map((function(e){var t;return null==e||null===(t=e.geometry)||void 0===t?void 0:t.type})).filter((function(e){return e})));return Promise.resolve({properties:o,geometryType:1===i.length?(0,pr.q9)({localType:i[0]}):"vector"})},wfs:function(e){return e.url?(0,pt.v$)(e.url,e.name).then((function(e){return(0,pr.Py)({describeLayer:{owsType:"WFS"},describeFeatureType:e})})):Promise.resolve({})}};var Ir=r(227361),Tr=r.n(Ir),Ar=r(984596),kr=r.n(Ar),Nr=r(150361),Fr=r.n(Nr),xr=r(743129),Dr=r(588176),Lr=r(145869);function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}var Mr=["debounceTime"];function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){Br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Br(e,t,r){return(t=function(e){var t=function(e){if("object"!=Zr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ur(e){return function(e){if(Array.isArray(e))return zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qr.apply(null,arguments)}var Gr=(0,Ze.Z)(["placeholder"])(xr.ZP),Hr=(0,qt.Z)("onChange","value")((0,Ze.Z)("placeholder")((function(e){e.debounceTime;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Mr);return o().createElement(y.NI,qr({},t,{onChange:function(e){return t.onChange(e.target.value)}}))}))),Wr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return{value:e,label:"Band ".concat(e)}}))},Jr=["array",["band",1],["band",2],["band",3],["band",4]],$r=["array",["band",1],["band",1],["band",1],["band",2]],Kr=function(e){var t,r=e.element,n=e.bands,i=e.rbgBandLabels,a=e.onUpdateNode,l=!vt()(Tr()(r,"style.body.color")),u=Tr()(r,"sourceMetadata.samples"),c=u>=3||![0,1].includes(Tr()(r,"sourceMetadata.fileDirectory.PhotometricInterpretation")),s=3===u?n.slice(0,-1):n,f=function(e){a(r.id,"layers",{style:{body:{color:e},format:"openlayers"}})},p=function(e,t){var n=Tr()(r,"sources[0]");a(r.id,"layers",{sources:[Rr(Rr({},n),{},Br({},e,vt()(t)?void 0:t))]})},m=(t=Tr()(r,"style.body.color"),vt()(t)?Ur(s):t.filter((function(e,t){return 0!==t})).map((function(e){var t,r;return null!==(t=null===(r=kr()(e))||void 0===r?void 0:r[1])&&void 0!==t?t:""}))),d=Tr()(r,"sources[0].min"),b=Tr()(r,"sources[0].max");return o().createElement("div",{className:"ms-style-band-container"},o().createElement("div",{className:"ms-style-band-editor"},o().createElement("div",{className:"ms-style-band"},o().createElement("div",{className:"enable-band"},o().createElement(y.J$,null,o().createElement(j.Z,{msgId:"styleeditor.enableBanding"})),o().createElement(Lr.Z,{onChange:function(){return!l&&(e=Ur(c?Jr:$r)),void f(e);var e},checked:l})),c?s.map((function(e,t){var n=s.length,a=4===n&&t===n-1;return o().createElement(Dr.Z,{label:i[t]},o().createElement(Gr,{clearable:a,disabled:!l,placeholder:"styleeditor.selectChannel",options:Wr(s),value:m[t],onChange:function(e){!function(e,t){var n,o=Fr()(null!==(n=Tr()(r,"style.body.color"))&&void 0!==n?n:Jr);o[e]=t?["band",t]:1,f(o)}(t+1,null==e?void 0:e.value)}}))})):o().createElement(Dr.Z,{label:"styleeditor.grayChannel"},o().createElement(Gr,{clearable:!1,disabled:!l,options:[Wr(s)[0]],value:m[0]})),o().createElement(Dr.Z,{label:"styleeditor.minLabel",infoMessageId:"styleeditor.minSourceValue"},o().createElement(y.cw,null,o().createElement(y.BZ,null,o().createElement(Hr,{type:"number",value:d,onChange:function(e){return p("min",e)}})))),o().createElement(Dr.Z,{label:"styleeditor.maxLabel",infoMessageId:"styleeditor.maxSourceValue"},o().createElement(y.cw,null,o().createElement(y.BZ,null,o().createElement(Hr,{type:"number",value:b,onChange:function(e){return p("max",e)}})))))))};Kr.defaultProps={bands:[1,2,3,4],rbgBandLabels:["styleeditor.redChannel","styleeditor.greenChannel","styleeditor.blueChannel","styleeditor.alphaChannel"],onUpdateNode:function(){}};const Vr=Kr;var Yr=r(800827),Xr=r(750578);function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}var en=["settings","items","loadedPlugins","onToggleStyleEditor","onUpdateParams","element"],tn=["showFeatureInfoTab","loadedPlugins","items","onToggleStyleEditor"];function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(r),!0).forEach((function(t){on(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function on(e,t,r){return(t=function(e){var t=function(e){if("object"!=Qr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ln(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var un=(0,u.defaultProps)({readOnly:!0})(Xr.tM),cn=(0,l.connect)((0,c.P1)([Yr.Od],(function(e){return{zoom:e.zoom,projection:e.projection}})))($.Z),sn=(0,l.connect)((0,c.P1)([H.c0],(function(e){return{enable3dStyleOptions:e}})))((function(e){var t=e.element,r=e.enable3dStyleOptions,i=e.fonts,a=void 0===i?["Arial","Verdana","Helvetica","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT"]:i,l=e.onUpdateNode,u=void 0===l?function(){}:l,c=Cr[null==t?void 0:t.type],s=hr((0,n.useState)(!1),2),f=s[0],p=s[1],m=(0,n.useRef)(),d=hr((0,n.useState)(),2),y=d[0],b=d[1];function v(){b(null),u(t.id,"layers",{style:(0,pr.uo)(t)})}var g=(0,n.useRef)(),h=(0,n.useRef)();(0,n.useEffect)((function(){return g.current=!0,function(){g.current=!1,h.current=void 0}}),[]),(0,n.useEffect)((function(){!f&&c&&(p(!0),(c?c(t):Promise.resolve(t)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.properties,n=e.format,o=e.geometryType;return wr(wr({},t),{},{properties:wr(wr({},r),t.properties),format:n||t.format,geometryType:o||t.geometryType})})).then((function(e){return(0,mr.layerToGeoStylerStyle)(e).then((function(t){return wr(wr({},e),{},{style:t})}))})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.properties,n=e.format,o=e.geometryType,i=e.style;if(g.current){var a=null!=i&&i.body?i:(0,pr.uo)(t);m.current=a,b(null),u(t.id,"layers",{properties:r,format:n,geometryType:o,style:a}),p(!1)}})).catch((function(){g.current&&p(!1)})))}),[t.id,c]);var O=m.current||{},E=O.format,w=O.metadata,S=O.body,P=w||{},j=P.editorType,C=P.styleJSON;return o().createElement(cr.T,{canEdit:!0,layer:t,code:!f&&S,error:y,editorType:j||"textarea",editors:jr,format:E,attributes:(0,pr.g5)(t),mode:(0,pr.H$)(E),geometryType:(0,pr.wc)(t),defaultStyleJSON:C?JSON.parse(C):null,onUpdateMetadata:function(e){var r;m.current=wr(wr({},m.current),{},{metadata:wr(wr({},null===(r=m.current)||void 0===r?void 0:r.metadata),e)}),u(null==t?void 0:t.id,"layers",{style:wr({},m.current)})},onChange:function(e){var r,n=null==m||null===(r=m.current)||void 0===r?void 0:r.format,o=pr.Yt[n]&&pr.Yt[n](e,t);return o?b(o):(e?(b(null),m.current=wr(wr({},m.current),{},{body:e}),u(null==t?void 0:t.id,"layers",{style:wr({},m.current)})):v(),null)},onError:function(e){null!=e&&e.isEmpty&&v(),"SyntaxError"===e.name&&b(e)},exactMatchGeometrySymbol:!0,enable3dStyleOptions:r,getColors:Pr,methods:vr.d$,styleUpdateTypes:{classificationVector:function(e){return(0,yr.IW)(wr(wr({},e),{},{classificationRequest:function(e){var r=e.params;return(h.current?Promise.resolve(h.current):"vector"===t.type?Promise.resolve({type:"FeatureCollection",features:t.features}):"wfs"===t.type?(0,Be.Mc)(t).toPromise().then((function(e){var t=e.features;return h.current={type:"FeatureCollection",features:t},h.current})):Promise.resolve({type:"FeatureCollection",features:[]})).then((function(e){return(0,vr.R8)(e,r)}))}}))}},config:{simple:!["wfs","vector"].includes(null==t?void 0:t.type),supportedSymbolizerMenuOptions:["Simple","Extrusion","Classification"],fonts:a,enableFieldExpression:["vector","wfs"].includes(t.type)}})})),fn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).settings;return"layers"===(void 0===e?{}:e).nodeType},pn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).element,t=void 0===e?{}:e;return"wfs"===t.type||"3dtiles"===t.type||"vector"===t.type&&!(0,W.cO)(t)},mn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).element;return"cog"===(void 0===e?{}:e).type},dn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).element;return"wms"===(void 0===e?{}:e).type},yn=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).element;return"wfs"===(void 0===e?{}:e).type},bn=function(e){return fn(e)&&(dn(e)||pn(e)||mn(e))},vn={},gn=function(e,t,r){if(e){var n=vn[e.name];return n||(n=(0,B.KB)(e,t,r))&&n.loaded&&(vn[e.name]=n),n}return e},hn=function(e){var t=e.settings,r=e.items,n=void 0===r?[]:r,i=e.loadedPlugins,a=e.onToggleStyleEditor,l=void 0===a?function(){}:a,c=e.onUpdateParams,s=void 0===c?function(){}:c,f=e.element,p=ln(e,en);if(pn({element:f}))return{Component:sn};if(mn({element:f}))return{Component:Vr};var m=G()(z()(function(e){return function(e){if(Array.isArray(e))return an(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?an(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n),{target:"style"}),["priority"]).filter((function(e){var t=e.selector;return!t||t(nn(nn({},p),{},{element:f}))})),d=O()(z()(m,{name:"ThematicLayer"}));if(d){var y=t&&t.options&&t.options.thematic,b=[{glyph:"list",tooltipId:"toc.thematic.classify",visible:p.isAdmin&&!y||!1,onClick:function(){return s({thematic:{unconfigured:!0}})}},{glyph:"trash",tooltipId:"toc.thematic.remove_thematic",visible:p.isAdmin&&y||!1,onClick:function(){return s({thematic:null})}}];return y?{Component:"style"===p.activeTab&&d.plugin,toolbar:b}:{toolbar:b}}var v=O()(m);if(v&&v.plugin){var g=v.cfg||v.plugin.cfg;return{onClose:function(){return l(null,!1)},Component:gn(nn(nn({},v),{},{cfg:nn(nn({},g||{}),{},{active:!0})}),i,o().createElement(ke.Z,{width:100,height:100})),toolbarComponent:v.ToolbarComponent&&(g&&(0,u.defaultProps)(g)(v.ToolbarComponent)||v.ToolbarComponent)}}return{}};const On=function(e){var t=e.showFeatureInfoTab,r=void 0===t||t,n=e.loadedPlugins,o=e.items,i=e.onToggleStyleEditor,a=ln(e,tn);return[{id:"general",titleId:"layerProperties.general",tooltipId:"layerProperties.general",glyph:"wrench",visible:!0,Component:J.Z},{id:"display",titleId:"layerProperties.display",tooltipId:"layerProperties.display",glyph:"eye-open",visible:fn(a),Component:cn},{id:"fields",titleId:"layerProperties.fields.title",tooltipId:"layerProperties.fields.tooltip",glyph:"th-list",visible:fn(a)&&Ke(null==a?void 0:a.element),Component:et},nn({id:"style",titleId:"layerProperties.style",tooltipId:"layerProperties.style",glyph:"dropper",visible:bn(a),Component:un},hn(nn({items:o,loadedPlugins:n,onToggleStyleEditor:i},a))),{id:"feature",titleId:"layerProperties.featureInfo",tooltipId:"layerProperties.featureInfo",glyph:"map-marker",visible:r&&fn(a)&&(dn(a)||yn(a))&&!(a.element.featureInfo&&a.element.featureInfo.viewer),Component:ar,toolbar:[{glyph:"pencil",tooltipId:"layerProperties.editCustomFormat",visible:!a.showEditor&&a.element&&a.element.featureInfo&&"TEMPLATE"===a.element.featureInfo.format||!1,onClick:function(){return a.onShowEditor&&a.onShowEditor(!a.showEditor)}}]},{id:"elevation",titleId:"layerProperties.elevation",tooltipId:"layerProperties.elevation",glyph:"1-vector",visible:fn(a)&&dn(a)&&a.element.dimensions&&a.getDimension&&a.getDimension(a.element.dimensions,"elevation"),Component:Ae}].filter((function(e){return e.visible}))};var En=["selectedNodes","status","itemComponent","statusTypes","expanded","onSettings","onHideSettings"];function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wn.apply(null,arguments)}var Sn=(0,c.P1)([D.jN,D.Bt,L.Pz,L.KV,function(e){return(0,M.ic)(e,{height:!0})},_.qg,x.R4,D.Ci,Z.wk,H.c0,Yr.zS],(function(e,t,r,n,o,i,a,l,u,c,s){return{settings:e,element:l,groups:t,currentLocale:r,currentLocaleLanguage:n,dockStyle:o,isAdmin:i,activeTab:a,isLocalizedLayerStylesEnabled:u,isCesiumActive:c,showFeatureEditOption:s}})),Pn=(0,l.connect)((function(){return{}}),{onSettings:p.RP,onHideSettings:p.sF})((function(e){var t,r=e.selectedNodes,n=e.status,i=e.itemComponent,a=e.statusTypes,l=e.expanded,u=e.onSettings,c=void 0===u?function(){}:u,s=e.onHideSettings,f=void 0===s?function(){}:s,p=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,En),m=i;return[a.LAYER,a.GROUP].includes(n)?a.LAYER===n&&(0,W.cO)(null==r||null===(t=r[0])||void 0===t?void 0:t.node)?null:o().createElement(m,wn({},p,{glyph:"wrench",tooltipId:n===a.GROUP?"toc.toolGroupSettingsTooltip":"toc.toolLayerSettingsTooltip",onClick:function(){return l?f():n===a.LAYER?c(r[0].id,"layers",{opacity:parseFloat(void 0!==(null===(e=r[0])||void 0===e||null===(t=e.node)||void 0===t?void 0:t.opacity)?null===(o=r[0])||void 0===o||null===(i=o.node)||void 0===i?void 0:i.opacity:1)}):c(r[0].id,"groups",{});var e,t,o,i}})):null})),jn=(0,u.compose)((0,l.connect)(Sn,{onHideSettings:p.sF,onUpdateSettings:p.VP,onUpdateNode:p.tV,onRetrieveLayerData:f.k,onSetTab:s.Xg.bind(null,"layersettings","activeTab"),onUpdateParams:p.Xy,onToggleStyleEditor:m.Wv}),d.bR,(0,u.defaultProps)({getDimension:R.Fr,enableLayerNameEditFeedback:!0}),(0,u.getContext)({loadedPlugins:a().object}),(0,u.withPropsOnChange)(["items","settings"],(function(e){return{tabs:On(e)}})))(F);const Cn=(0,B.rx)("TOCItemsSettings",{component:jn,containers:{TOC:{doNotHide:!0,name:"TOCItemsSettings",Component:Pn,target:"toolbar",position:5}}})},55105:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>d,Nr:()=>y,QJ:()=>b,ic:()=>v,Jz:()=>g,VM:()=>h,CF:()=>O,Ju:()=>E,Fc:()=>w,gQ:()=>S});var n=r(91175),o=r.n(n),i=r(288306),a=r.n(i),l=r(800827),u=r(552259),c=r(737275);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return e.maplayout&&e.maplayout.layout||{}},y=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},b=function(e){return e.maplayout&&e.maplayout.boundingSidebarRect||{}},v=a()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=d(e),o=b(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){var i;return p(p({},e),{},m({},t,r&&null!==(i=o[t])&&void 0!==i?i:n[t]))}),{})||{}}),(function(e,t,r){return JSON.stringify(d(e))+JSON.stringify(b(e))+JSON.stringify(t)+(r?"_isDock":"")})),g=function(e){var t;return!(null===(t=d(e))||void 0===t||!t.rightPanel)},h=function(e){var t,r=c.ZP.getConfigProp("mapLayout")||u.Ur;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=d(e);return!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})))}(e,[{key:"bottom",value:null!==(t=null==r?void 0:r.bottom.sm)&&void 0!==t?t:0,type:"not"}])},O=function(e){var t=(0,l.Od)(e),r=y(e);return r&&t&&t.size&&{left:(0,u.pb)(r.left,t.size.width),bottom:(0,u.pb)(r.bottom,t.size.height),right:(0,u.pb)(r.right,t.size.width),top:(0,u.pb)(r.top,t.size.height)}},E=function(e){var t,r;return null!==(t=null==e||null===(r=e.maplayout)||void 0===r?void 0:r.dockPanels)&&void 0!==t?t:{left:[],right:[]}},w=function(e){return v(e,{height:!0,right:!0},!0)},S=function(e){return v(e,{right:!0},!0)}},629859:(e,t,r)=>{"use strict";r.d(t,{n0:()=>s,sc:()=>f});var n=r(909041),o=r(689265),i=r.n(o),a=r(717247),l=r.n(a),u=function(e){var t=void 0;if(e instanceof HTMLAnchorElement){var r={};if(e.dataset&&void 0!==e.dataset.mention)r.url=e.href,r.text=e.innerHTML,r.value=e.dataset.value,t=n.Entity.__create("MENTION","IMMUTABLE",r);else{r.url=e.getAttribute&&e.getAttribute("href")||e.href,r.title=e.innerHTML,r.targetOption=e.target;var o=e.getAttribute&&e.getAttribute("data-geostory-interaction-type"),i=e.getAttribute&&e.getAttribute("data-geostory-interaction-params"),a=e.getAttribute&&e.getAttribute("data-geostory-interaction-name"),l={};a&&i&&o&&(l["data-geostory-interaction-type"]=o,l["data-geostory-interaction-params"]=i,l["data-geostory-interaction-name"]=a),r.attributes=l,t=n.Entity.__create("LINK","MUTABLE",r)}}return t},c=function(e,t){if("MENTION"===e.type)return'< href="'.concat(e.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(e.data.value,'">').concat(t,"</a>");if("LINK"===e.type){var r=e.data.targetOption||"_self",n=e.data.attributes;return n&&n["data-geostory-interaction-type"]?'<a data-geostory-interaction-name="'.concat(n["data-geostory-interaction-name"],'" data-geostory-interaction-type="').concat(n["data-geostory-interaction-type"],'" data-geostory-interaction-params="').concat(n["data-geostory-interaction-params"],"\" onclick=\"__geostory_interaction(type='scrollTo', '").concat(n["data-geostory-interaction-params"],"')\">").concat(t,"</a>"):'<a href="'.concat(e.data.url,'" target="').concat(r,'">').concat(t,"</a>")}if("IMAGE"===e.type){var o=e.data.alignment,i=o&&"none"!==o?"float: ".concat(o,";"):"display: block; margin: 0 auto 0 auto;";return'<img title="'.concat(e.data.src,'" src="').concat(e.data.src,'" alt="').concat(e.data.alt||" ",'" style="height: ').concat(e.data.height,"; width: ").concat(e.data.width,"; ").concat(i,'"/>')}return"EMBEDDED_LINK"===e.type?'<iframe width="'.concat(e.data.width,'" height="').concat(e.data.height,'" src="').concat(e.data.src,'" frameBorder="0"></iframe>'):t},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=l()(e,null,u),r=n.ContentState.createFromBlockArray(t.contentBlocks);return n.EditorState.createWithContent(r)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var r=1!==(0,n.convertToRaw)(e.getCurrentContent()).blocks.length||(0,n.convertToRaw)(e.getCurrentContent()).blocks[0].text,o=i()((0,n.convertToRaw)(e.getCurrentContent()),null,null,c);return r?o:t}return t}},79909:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi #mapstore-elevation {\r\n    width: 100%;\r\n    /*margin-top: -46px;*/\r\n    height: 80px;\r\n    padding: 0 5px;\r\n}\r\n\r\n.msgapi label#mapstore-elevation-label {\r\n    margin-top: 10px;\r\n}\r\n\r\n.msgapi .custom-tooltip {\r\n    width: auto;\r\n    margin: 0;\r\n    line-height: 24px;\r\n    border: 1px solid #C1C1C1;\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n    padding: 5px;\r\n}\r\n.msgapi .custom-tooltip  .label {\r\n  margin: 0;\r\n  color: #82CA9D;\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n}\r\n",""]);const i=o},662485:e=>{e.exports='<html>\r\n  <head>\r\n    <title>Geoserver GetFeatureInfo output</title>\r\n  </head>\r\n    <style type="text/css">\r\n    \ttable.featureInfo, table.featureInfo td, table.featureInfo th {\r\n    \t\tborder:1px solid #ddd;\r\n    \t\tborder-collapse:collapse;\r\n    \t\tmargin:0;\r\n    \t\tpadding:0;\r\n    \t\tfont-size: 90%;\r\n    \t\tpadding:.2em .1em;\r\n    \t}\r\n    \ttable.featureInfo th {\r\n    \t    padding:.2em .2em;\r\n    \t\tfont-weight:bold;\r\n    \t\tbackground:#eee;\r\n    \t}\r\n    \ttable.featureInfo td{\r\n    \t\tbackground:#fff;\r\n    \t}\r\n    \ttable.featureInfo tr.odd td{\r\n    \t\tbackground:#eee;\r\n    \t}\r\n    \ttable.featureInfo caption{\r\n    \t\ttext-align:left;\r\n    \t\tfont-size:100%;\r\n    \t\tfont-weight:bold;\r\n    \t\tpadding:.2em .2em;\r\n    \t}\r\n    </style>\r\n  <body>\r\n    <table class="featureInfo">\r\n      <caption class="featureInfo">states</caption>\r\n      <tr>\r\n        <th>fid</th>\r\n          <th >STATE_NAME</th>\r\n          <th >STATE_FIPS</th>\r\n          <th >SUB_REGION</th>\r\n          <th >STATE_ABBR</th>\r\n          <th >LAND_KM</th>\r\n      </tr>\r\n      <tr>\r\n        <td>states.29</td>\r\n        <td>Wyoming</td>\r\n        <td>56</td>\r\n        <td>Mtn</td>\r\n        <td>WY</td>\r\n        <td>251500.801</td>\r\n      </tr>\r\n    </table>\r\n    <br/>\r\n  </body>\r\n</html>'},911935:e=>{e.exports='{\r\n  "type": "FeatureCollection",\r\n  "totalFeatures": "unknown",\r\n  "features": [\r\n      {\r\n    "type": "Feature",\r\n    "id": "states.29",\r\n    "geometry": {\r\n      "type": "MultiPolygon",\r\n      "coordinates": [\r\n        [\r\n          [\r\n            [-1.15831389980175E7, 5115884.78673627],\r\n            [-1.158334883525764E7, 5095927.61163692],\r\n            [-1.158318319185534E7, 5069757.00399456],\r\n            [-1.158292671174856E7, 5012817.65726345],\r\n            [-1.168119588467766E7, 5011501.68893432],\r\n            [-1.171952218348237E7, 5011805.51696107],\r\n            [-1.182245230349099E7, 5012358.03633596],\r\n            [-1.183643948618967E7, 5012535.77548496],\r\n            [-1.189613934986567E7, 5012118.79424704],\r\n            [-1.194496385588862E7, 5012366.44384074],\r\n            [-1.201338092624966E7, 5012844.6510808],\r\n            [-1.213912753436923E7, 5012116.58180143],\r\n            [-1.224530617975818E7, 5011994.45558498],\r\n            [-1.225209889508638E7, 5012037.8190659],\r\n            [-1.23620611786479E7, 5011845.33978484],\r\n            [-1.236213086464914E7, 5050542.48847943],\r\n            [-1.236206540878855E7, 5098070.44035716],\r\n            [-1.236180135895639E7, 5160419.97558219],\r\n            [-1.23615872915756E7, 5236675.5279452],\r\n            [-1.236185657342383E7, 5315010.76063796],\r\n            [-1.236166543785814E7, 5355424.25785557],\r\n            [-1.236158395199088E7, 5390784.55533999],\r\n            [-1.236198815306194E7, 5462754.83859328],\r\n            [-1.236211728367126E7, 5538995.97145504],\r\n            [-1.236212318360428E7, 5568867.31982516],\r\n            [-1.236232444924363E7, 5620854.95417318],\r\n            [-1.229288824894438E7, 5620316.91583206],\r\n            [-1.2288781895568E7, 5621314.94100872],\r\n            [-1.224456390139357E7, 5621970.64383454],\r\n            [-1.222273014174734E7, 5621455.36603028],\r\n            [-1.209203215399677E7, 5621150.43241323],\r\n            [-1.205128866376898E7, 5621546.67495262],\r\n            [-1.201067341359458E7, 5621492.04691732],\r\n            [-1.182865814246373E7, 5620919.18090556],\r\n            [-1.180215653392956E7, 5621084.9446589],\r\n            [-1.169794913408358E7, 5621495.03806919],\r\n            [-1.169313957548385E7, 5621693.24344854],\r\n            [-1.158383374295954E7, 5621104.15015297],\r\n            [-1.158379210946998E7, 5554761.48947335],\r\n            [-1.158396710370951E7, 5493626.06569343],\r\n            [-1.158382183177402E7, 5488039.68771347],\r\n            [-1.158379377926234E7, 5442710.58976854],\r\n            [-1.158361967557875E7, 5388962.94229949],\r\n            [-1.158375815702529E7, 5385191.61647555],\r\n            [-1.158342865133254E7, 5312442.79715209],\r\n            [-1.15834303211249E7, 5253508.54391938],\r\n            [-1.158312797738791E7, 5160957.12459852],\r\n            [-1.15831389980175E7, 5115884.78673627]\r\n          ]\r\n        ]\r\n      ]\r\n    },\r\n    "geometry_name": "the_geom",\r\n    "properties": {\r\n      "STATE_NAME": "Wyoming",\r\n      "STATE_FIPS": "56",\r\n      "SUB_REGION": "Mtn",\r\n      "STATE_ABBR": "WY",\r\n      "LAND_KM": 251500.801,\r\n      "WATER_KM": 1848.149,\r\n      "PERSONS": 453588,\r\n      "FAMILIES": 119825,\r\n      "HOUSHOLD": 168839,\r\n      "MALE": 227007,\r\n      "FEMALE": 226581,\r\n      "WORKERS": 164561,\r\n      "DRVALONE": 153679,\r\n      "CARPOOL": 28109,\r\n      "PUBTRANS": 2963,\r\n      "EMPLOYED": 207868,\r\n      "UNEMPLOY": 13112,\r\n      "SERVICE": 71419,\r\n      "MANUAL": 29157,\r\n      "P_MALE": 0.5,\r\n      "P_FEMALE": 0.5,\r\n      "SAMP_POP": 83202,\r\n      "bbox": [-1.236232444924363E7, 5011501.68893432, -1.158292671174856E7, 5621970.64383454]\r\n    }\r\n  }],\r\n  "crs": {\r\n    "type": "name",\r\n    "properties": {\r\n      "name": "urn:ogc:def:crs:EPSG::3857"\r\n    }\r\n  },\r\n  "bbox": [-1.236232444924363E7, 5011501.68893432, -1.158292671174856E7, 5621970.64383454]\r\n}'},633602:e=>{e.exports="Results for FeatureType 'http://www.openplans.org/topp:states':\r\n--------------------------------------------\r\nthe_geom = [GEOMETRY (Polygon) with 48 points]\r\nSTATE_NAME = Wyoming\r\nSTATE_FIPS = 56\r\nSUB_REGION = Mtn\r\nSTATE_ABBR = WY\r\nLAND_KM = 251500.801\r\nWATER_KM = 1848.149\r\nPERSONS = 453588.0\r\nFAMILIES = 119825.0\r\nHOUSHOLD = 168839.0\r\nMALE = 227007.0\r\nFEMALE = 226581.0\r\nWORKERS = 164561.0\r\nDRVALONE = 153679.0\r\nCARPOOL = 28109.0\r\nPUBTRANS = 2963.0\r\nEMPLOYED = 207868.0\r\nUNEMPLOY = 13112.0\r\nSERVICE = 71419.0\r\nMANUAL = 29157.0\r\nP_MALE = 0.5\r\nP_FEMALE = 0.5\r\nSAMP_POP = 83202.0\r\n--------------------------------------------"}}]);